

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Saliency &mdash; infragit 1a documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../',
              VERSION:'1a',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Segmentation Property" href="../SegmentationProperty.html" />
    <link rel="prev" title="Panorama" href="../Panorama/Panorama.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> infragit
          

          
          </a>

          
            
            
              <div class="version">
                0.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../IOFactory.html">IO Factory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Datasets/Datasets.html">Data set classes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../BaseProperty.html">Properties</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../Colors/Colors.html">Colors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curvature/Curvature.html">Curvature</a></li>
<li class="toctree-l2"><a class="reference internal" href="../EigenProperty.html">Eigen Property</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Normals/Normals.html">Normals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Neighborhood/Neighborhood.html">Neighborhood</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Panorama/Panorama.html">Panorama</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Saliency</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#saliency-property">Saliency Property</a></li>
<li class="toctree-l3"><a class="reference internal" href="#saliency-factory">Saliency Factory</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../SegmentationProperty.html">Segmentation Property</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SphericalCoordinates/Spherical.html">Spherical Coordinates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Transformations/Transformation.html">Transformations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../TriangulationProperty.html">Triangulation Property</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tensors/tensorClass.html">Tensors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Factories/Factories.html">Factories</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../LevelSets/LevelSets.html">Level Set functions and factory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Utils/EigenFactory.html">Eigen Factory Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Utils/Utils.html">General Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Visualizations/Visualization.html">Visualization Classes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">infragit</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../BaseProperty.html">Properties</a> &raquo;</li>
        
      <li>Saliency</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/Properties/Saliency/Saliency.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="saliency">
<h1>Saliency<a class="headerlink" href="#saliency" title="Permalink to this headline">¶</a></h1>
<p>The saliency property hold the colors used for the point cloud.</p>
<div class="section" id="saliency-property">
<h2>Saliency Property<a class="headerlink" href="#saliency-property" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="SaliencyProperty.SaliencyProperty">
<em class="property">class </em><code class="descclassname">SaliencyProperty.</code><code class="descname">SaliencyProperty</code><span class="sig-paren">(</span><em>points</em>, <em>saliencyValues=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/SaliencyProperty.html#SaliencyProperty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SaliencyProperty.SaliencyProperty" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">Points</span></code></td>
<td>Holds the points dataset</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">Raster</span></code></td>
<td>Holds raster dataset</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">Size</span></code></td>
<td>Return the size of the property</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">path</span></code></td>
<td>The path of the dataset</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">_BaseProperty__getPointProperty</span></code>(idx)</td>
<td>Retrieve the point property (object or value) of a specific point</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#SaliencyProperty.SaliencyProperty.getPointSaliency" title="SaliencyProperty.SaliencyProperty.getPointSaliency"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getPointSaliency</span></code></a>([idx])</td>
<td>Retrieve the saliency value of a specific point</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#SaliencyProperty.SaliencyProperty.getValues" title="SaliencyProperty.SaliencyProperty.getValues"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getValues</span></code></a>()</td>
<td>Saliency values for all the point cloud</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code>(**kwargs)</td>
<td>Loads all values of a property.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#SaliencyProperty.SaliencyProperty.normalize_values" title="SaliencyProperty.SaliencyProperty.normalize_values"><code class="xref py py-obj docutils literal notranslate"><span class="pre">normalize_values</span></code></a>(bool)</td>
<td>A flag whether to normalize values of principal curvature (k1, k2) to [0,1] with 2 being the invalid value</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#SaliencyProperty.SaliencyProperty.setPointSaliency" title="SaliencyProperty.SaliencyProperty.setPointSaliency"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setPointSaliency</span></code></a>(idx,&nbsp;values)</td>
<td>Sets a saliency values to specific points</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="SaliencyProperty.SaliencyProperty.getPointSaliency">
<code class="descname">getPointSaliency</code><span class="sig-paren">(</span><em>idx=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/SaliencyProperty.html#SaliencyProperty.getPointSaliency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SaliencyProperty.SaliencyProperty.getPointSaliency" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the saliency value of a specific point</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>idx</strong> – the point index</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">saliency value</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)">float</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="SaliencyProperty.SaliencyProperty.getValues">
<code class="descname">getValues</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/SaliencyProperty.html#SaliencyProperty.getValues"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SaliencyProperty.SaliencyProperty.getValues" title="Permalink to this definition">¶</a></dt>
<dd><p>Saliency values for all the point cloud</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If normalized is True, the normalization is with log</p>
</div>
</dd></dl>

<dl class="method">
<dt id="SaliencyProperty.SaliencyProperty.normalize_values">
<code class="descname">normalize_values</code><span class="sig-paren">(</span><em>bool</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/SaliencyProperty.html#SaliencyProperty.normalize_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SaliencyProperty.SaliencyProperty.normalize_values" title="Permalink to this definition">¶</a></dt>
<dd><p>A flag whether to normalize values of principal curvature (k1, k2) to [0,1] with 2 being the invalid value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bool</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – boolean flag for normalization of the values</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="SaliencyProperty.SaliencyProperty.setPointSaliency">
<code class="descname">setPointSaliency</code><span class="sig-paren">(</span><em>idx</em>, <em>values</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/SaliencyProperty.html#SaliencyProperty.setPointSaliency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SaliencyProperty.SaliencyProperty.setPointSaliency" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a saliency values to specific points</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>idx</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a><em>, </em><em>np.ndarray</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – a list or array of indices (can be only one) for which the saliency values refer</li>
<li><strong>values</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – the saliency values to assign</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="saliency-factory">
<h2>Saliency Factory<a class="headerlink" href="#saliency-factory" title="Permalink to this headline">¶</a></h2>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#SaliencyFactory.SaliencyFactory.FPFH_open3d" title="SaliencyFactory.SaliencyFactory.FPFH_open3d"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FPFH_open3d</span></code></a>(pointset_open3d,&nbsp;…)</td>
<td>Compute the FPFH via open3d.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__FPFH" title="SaliencyFactory.SaliencyFactory._SaliencyFactory__FPFH"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_SaliencyFactory__FPFH</span></code></a>(spfh_current,&nbsp;…)</td>
<td>Compute Fast Point Feature Histogram (FPFH)</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__SPFH" title="SaliencyFactory.SaliencyFactory._SaliencyFactory__SPFH"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_SaliencyFactory__SPFH</span></code></a>(neighborhood,&nbsp;normals)</td>
<td>Compute the Simplified Point Feature Histogram.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__commonPlane_approx" title="SaliencyFactory.SaliencyFactory._SaliencyFactory__commonPlane_approx"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_SaliencyFactory__commonPlane_approx</span></code></a>(points)</td>
<td>Compute the approximation for a common plane via least squares s.t.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__computeSigmaSet" title="SaliencyFactory.SaliencyFactory._SaliencyFactory__computeSigmaSet"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_SaliencyFactory__computeSigmaSet</span></code></a>(tensor[,&nbsp;…])</td>
<td>Compute the sigma set of a tensor</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__contextAware" title="SaliencyFactory.SaliencyFactory._SaliencyFactory__contextAware"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_SaliencyFactory__contextAware</span></code></a>(image,&nbsp;ksize,&nbsp;…)</td>
<td>Saliency computed according to <a class="reference internal" href="../../index.html#goferman-etal2012" id="id1">[GZMT12]</a> for one scale.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__dcolor" title="SaliencyFactory.SaliencyFactory._SaliencyFactory__dcolor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_SaliencyFactory__dcolor</span></code></a>(p_i,&nbsp;image,&nbsp;…[,&nbsp;…])</td>
<td>computes the most similar patch to a patch i and their indices</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__high_level_distinctness" title="SaliencyFactory.SaliencyFactory._SaliencyFactory__high_level_distinctness"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_SaliencyFactory__high_level_distinctness</span></code></a>(…)</td>
<td>Compute the high-level distinctness of a point within a pointset</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__low_level_distinctness" title="SaliencyFactory.SaliencyFactory._SaliencyFactory__low_level_distinctness"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_SaliencyFactory__low_level_distinctness</span></code></a>(…)</td>
<td>Compute the lowlevel distinctness for a point.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__point_association" title="SaliencyFactory.SaliencyFactory._SaliencyFactory__point_association"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_SaliencyFactory__point_association</span></code></a>(point,&nbsp;…)</td>
<td>Associate points that neighbor high-distinctness points with their distinction.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#SaliencyFactory.SaliencyFactory.curvature_saliency" title="SaliencyFactory.SaliencyFactory.curvature_saliency"><code class="xref py py-obj docutils literal notranslate"><span class="pre">curvature_saliency</span></code></a>(neighbors_property,&nbsp;…)</td>
<td>Computes saliency in each point according to difference in curvature and normal, as a function of the distance</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#SaliencyFactory.SaliencyFactory.hierarchical_saliency" title="SaliencyFactory.SaliencyFactory.hierarchical_saliency"><code class="xref py py-obj docutils literal notranslate"><span class="pre">hierarchical_saliency</span></code></a>(neighborhoods,&nbsp;normals)</td>
<td>Compute saliency by hierarchical method.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#SaliencyFactory.SaliencyFactory.multiscale_saliency" title="SaliencyFactory.SaliencyFactory.multiscale_saliency"><code class="xref py py-obj docutils literal notranslate"><span class="pre">multiscale_saliency</span></code></a>(saliencies[,&nbsp;percentiles])</td>
<td>Aggregates the saliencies computed by multiple scales</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#SaliencyFactory.SaliencyFactory.panorama_context" title="SaliencyFactory.SaliencyFactory.panorama_context"><code class="xref py py-obj docutils literal notranslate"><span class="pre">panorama_context</span></code></a>(panorama_property,&nbsp;scale_r)</td>
<td>Compute context saliency (position based) for panorama property (its image)</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#SaliencyFactory.SaliencyFactory.panorama_contrast" title="SaliencyFactory.SaliencyFactory.panorama_contrast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">panorama_contrast</span></code></a>(panorama_property,&nbsp;region_size)</td>
<td>Compute local saliency map (contrast based) for a panorama property (its image).</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#SaliencyFactory.SaliencyFactory.panorama_frequency" title="SaliencyFactory.SaliencyFactory.panorama_frequency"><code class="xref py py-obj docutils literal notranslate"><span class="pre">panorama_frequency</span></code></a>(panorama_property,&nbsp;filters)</td>
<td>Compute frequency saliency map for a panorama property (its image).</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#SaliencyFactory.SaliencyFactory.pointwise_pca_saliency" title="SaliencyFactory.SaliencyFactory.pointwise_pca_saliency"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pointwise_pca_saliency</span></code></a>(tensor_property[,&nbsp;…])</td>
<td>Compute saliency according to PCA (tensors) similarity.</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods documentation</p>
<dl class="class">
<dt id="SaliencyFactory.SaliencyFactory">
<em class="property">class </em><code class="descclassname">SaliencyFactory.</code><code class="descname">SaliencyFactory</code><a class="reference internal" href="../../_modules/SaliencyFactory.html#SaliencyFactory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SaliencyFactory.SaliencyFactory" title="Permalink to this definition">¶</a></dt>
<dd><dl class="classmethod">
<dt id="SaliencyFactory.SaliencyFactory.FPFH_open3d">
<em class="property">classmethod </em><code class="descname">FPFH_open3d</code><span class="sig-paren">(</span><em>pointset_open3d</em>, <em>normalsproperty</em>, <em>knn_search_param</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/SaliencyFactory.html#SaliencyFactory.FPFH_open3d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SaliencyFactory.SaliencyFactory.FPFH_open3d" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the FPFH via open3d.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is implemented as proposed in [Rusu.etal2009] and not modified to <a class="reference internal" href="../../index.html#shtrom-etal2013" id="id3">[SLT13]</a>.
This means that the SPFH is not defined as absolute values of the angles, but as the angles themselves.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pointset_open3d</strong> (<a class="reference internal" href="../../Datasets/PointSet.html#PointSet.PointSet" title="PointSet.PointSet"><em>PointSet</em></a><em>, </em><a class="reference internal" href="../../Datasets/PointSetOpen3D.html#PointSetOpen3D.PointSetOpen3D" title="PointSetOpen3D.PointSetOpen3D"><em>PointSetOpen3D.PointSetOpen3D</em></a>) – the point cloud as PointSetOpen3D. if a PointSet is received it is change to PointSetOpen3D.</li>
<li><strong>knn_search_param</strong> (<em>class</em>) – the type of search: knn, rnn or hybrid.</li>
<li><strong>normalsproperty</strong> (<em>NormalsProperty.NormalsPropoerty</em>) – the normals property of the point cloud</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">feature vector FPFH</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">np.array</p>
</td>
</tr>
</tbody>
</table>
<p>** Usage example **</p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span>        <span class="n">p3d</span> <span class="o">=</span> <span class="n">PointSetOpen3D</span><span class="p">(</span><span class="n">pcl</span><span class="p">)</span>
        <span class="n">knn</span> <span class="o">=</span> <span class="n">o3d</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">KDTreeSearchParamKNN</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
        <span class="n">rad</span> <span class="o">=</span> <span class="n">o3d</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">KDTreeSearchParamRadius</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
        <span class="n">hyb</span> <span class="o">=</span> <span class="n">o3d</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">KDTreeSearchParamHybrid</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">max_nn</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

        <span class="n">fpfh</span> <span class="o">=</span> <span class="n">SaliencyFactory</span><span class="o">.</span><span class="n">FPFH_open3d</span><span class="p">(</span><span class="n">p3d</span><span class="p">,</span> <span class="n">knn</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">fpfh</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>


<span class="hll"><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
</span>    <span class="kn">from</span> <span class="nn">DataClasses.PointSetOpen3D</span> <span class="k">import</span> <span class="n">PointSetOpen3D</span>
</pre></div>
</td></tr></table></div>
</dd></dl>

<dl class="classmethod">
<dt id="SaliencyFactory.SaliencyFactory._SaliencyFactory__FPFH">
<em class="property">classmethod </em><code class="descname">_SaliencyFactory__FPFH</code><span class="sig-paren">(</span><em>spfh_current</em>, <em>spfh_property</em><span class="sig-paren">)</span><a class="headerlink" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__FPFH" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute Fast Point Feature Histogram (FPFH)</p>
<p>For each point in spfh_propety, the FPFH is computed by</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[FPFH(p) = SPFH(p) + \frac{1}{K} \sum_{k=1}^K \frac{SPFH(p_k)}{||p-p_k||}\]</div>
</div></blockquote>
<p>with <span class="math notranslate nohighlight">\(K\)</span> the number of neighbors of p.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>spfh_property</strong> – the auxiliary property holding all the SPFH computed for the point cloud</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a feature vector for each point</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">np.ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="SaliencyFactory.SaliencyFactory._SaliencyFactory__SPFH">
<em class="property">classmethod </em><code class="descname">_SaliencyFactory__SPFH</code><span class="sig-paren">(</span><em>neighborhood</em>, <em>normals</em>, <em>num_bins=11</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__SPFH" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the Simplified Point Feature Histogram.</p>
<ol class="arabic">
<li><p class="first">Find the Darboux frame for each point <span class="math notranslate nohighlight">\(u =  {\bf N}, \, v = (p_t-p)\times u, \, w = u\times v\)</span> with <span class="math notranslate nohighlight">\(p_t\)</span> the current point and <span class="math notranslate nohighlight">\({\bf N}\)</span> the normal at that point.</p>
</li>
<li><p class="first">The SPFH (simplified point feature histogram) is computed by:</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[\begin{split}\begin{array}
\alpha = v \cdot {\bf N_t} \\
\phi = u \cdot \frac{p_t-p}{||p_t-p||} \\
\theta = \arctan(w\cdot {\bf N_t}, u\cdot {\bf N_t})
\end{array}\end{split}\]</div>
</div></blockquote>
</li>
</ol>
<p>with <span class="math notranslate nohighlight">\(p_t\)</span> a point in the neighborhood and <span class="math notranslate nohighlight">\({\bf N_t}\)</span> the normal of each neighbor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>neighborhood</strong> (<a class="reference internal" href="../Neighborhood/Neighborhood.html#PointNeighborhood.PointNeighborhood" title="PointNeighborhood.PointNeighborhood"><em>PointNeighborhood.PointNeighborhood</em></a>) – the current neighborhood to which the SPFH is computed</li>
<li><strong>normals</strong> (<a class="reference internal" href="../Normals/Normals.html#NormalsProperty.NormalsProperty" title="NormalsProperty.NormalsProperty"><em>NormalsProperty.NormalsProperty</em></a>) – the normals of the point cloud</li>
<li><strong>num_bins</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – number of bins in the histogram. Default: 11 (according to <a class="reference internal" href="../../index.html#shtrom-etal2013" id="id4">[SLT13]</a> – 11)</li>
<li><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – print inter-running messages. Default: False</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">array of <span class="math notranslate nohighlight">\(\alpha, \phi, \theta\)</span>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">np.array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="SaliencyFactory.SaliencyFactory._SaliencyFactory__commonPlane_approx">
<em class="property">static </em><code class="descname">_SaliencyFactory__commonPlane_approx</code><span class="sig-paren">(</span><em>points</em><span class="sig-paren">)</span><a class="headerlink" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__commonPlane_approx" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the approximation for a common plane via least squares s.t. <span class="math notranslate nohighlight">\(||{\bf n}||=1\)</span>.</p>
<p>The model for three points:</p>
<div class="math notranslate nohighlight">
\[\tilde{{\bf x}} = {\bf x} - {\bf \bar{x}}
{\bf n}\tilde{\bf x} = 0\]</div>
<p>with <span class="math notranslate nohighlight">\({\bf{\bar{x}}}\)</span> the centroid of the points</p>
<p>The normal is the eigenvector that relates to the smallest eigenvalue</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>points</strong> (<a class="reference internal" href="../../Datasets/PointSet.html#PointSet.PointSet" title="PointSet.PointSet"><em>PointSet</em></a>) – point cloud</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the approximated parameters (normal vector + d)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)">tuple</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="SaliencyFactory.SaliencyFactory._SaliencyFactory__computeSigmaSet">
<em class="property">static </em><code class="descname">_SaliencyFactory__computeSigmaSet</code><span class="sig-paren">(</span><em>tensor</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__computeSigmaSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the sigma set of a tensor</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tensor</strong> (<a class="reference internal" href="../Tensors/tensorClass.html#tensor.Tensor" title="tensor.Tensor"><em>Tensor</em></a>) – the tensor for which the sigma set will be computed</li>
<li><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – print running comments (default: False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">sigma set</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">np.array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="SaliencyFactory.SaliencyFactory._SaliencyFactory__contextAware">
<em class="property">classmethod </em><code class="descname">_SaliencyFactory__contextAware</code><span class="sig-paren">(</span><em>image</em>, <em>ksize</em>, <em>image_feature</em>, <em>kpatches=64</em>, <em>c=3</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__contextAware" title="Permalink to this definition">¶</a></dt>
<dd><p>Saliency computed according to <a class="reference internal" href="../../index.html#goferman-etal2012" id="id5">[GZMT12]</a> for one scale.</p>
<blockquote>
<div><div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This saliency measure is not implemented correctly and should be reviewed and rewritten</p>
</div>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image</strong> (<em>numpy.array</em>) – image on which the saliency is computed</li>
<li><strong>ksize</strong> (<em>numpy.array</em>) – the sizes of the patches</li>
<li><strong>image_feature</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – <p>the feature according to which the saliency is computed.</p>
<ul>
<li>’pixel_val’ - the value of the pixel itself</li>
<li>’LAB’ - a feature vector using CIElab color space</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Other features can be added.</p>
</div>
</li>
<li><strong>kpatches</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the number of minimum distance patches. default: 64</li>
<li><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – a constant; c=3 in the paper’s implementation. default: 3</li>
<li><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – print debugging prints. defualt: False</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">saliency map of the given image</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="SaliencyFactory.SaliencyFactory._SaliencyFactory__dcolor">
<em class="property">classmethod </em><code class="descname">_SaliencyFactory__dcolor</code><span class="sig-paren">(</span><em>p_i</em>, <em>image</em>, <em>image_feature</em>, <em>kpatches</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__dcolor" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the most similar patch to a patch i and their indices</p>
<blockquote>
<div><div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This  measure is not implemented correctly and should be reviewed and rewritten</p>
</div>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>p_i</strong> (<em>numpy.array</em>) – the patch to which the comparison is made</li>
<li><strong>vector</strong> – all other patches</li>
<li><strong>image_feature</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – <p>the feature according to which the dcolor is computed</p>
<ul>
<li>’pixel_val’ - the value of the pixel itself</li>
<li>’LAB’ - a feature vector using CIElab color space</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Other features can be added.</p>
</div>
</li>
<li><strong>kpatches</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the number of minimum distance patches,  dtype = int</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a vector of K most similar dcolors; a vector of K most similar indices</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="SaliencyFactory.SaliencyFactory._SaliencyFactory__high_level_distinctness">
<em class="property">classmethod </em><code class="descname">_SaliencyFactory__high_level_distinctness</code><span class="sig-paren">(</span><em>point</em>, <em>valid_pts</em>, <em>valid_idx</em>, <em>chi_dist</em><span class="sig-paren">)</span><a class="headerlink" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__high_level_distinctness" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the high-level distinctness of a point within a pointset</p>
<ol class="arabic">
<li><dl class="first docutils">
<dt>High-level dissimilarity measure is computed by</dt>
<dd><div class="first last math notranslate nohighlight">
\[d_H(p_i,p_j) = D_{\chi^2}(p_i,p_j) \cdot \log\left(1+||p_i-p_j||\right)\]</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>The high-level distinctness is computed according to a percentage of the points with the highest low-level distinctness, and is defined by:</dt>
<dd><div class="first math notranslate nohighlight">
\[D_{high}(p_i) = 1-\exp\left(-\frac{1}{N}\sum d_H(p_i,p_j)\right)\]</div>
<p class="last">with N the number of points that correspond to the percentage of the highest low level distinctness</p>
</dd>
</dl>
</li>
</ol>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>point</strong> (<em>np.ndarray 3x1</em>) – the 3d coordinates of the current point</li>
<li><strong>valid_pts</strong> (<em>np.ndarray nx3</em>) – % of the points with the highest low-level distinctness</li>
<li><strong>valid_idx</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a><em>, </em><em>np.ndarray</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – indices of the valid points</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the high-level distinctness of point <span class="math notranslate nohighlight">\(p_i\)</span>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="SaliencyFactory.SaliencyFactory._SaliencyFactory__low_level_distinctness">
<em class="property">classmethod </em><code class="descname">_SaliencyFactory__low_level_distinctness</code><span class="sig-paren">(</span><em>point</em>, <em>pointset</em>, <em>chi_dist</em>, <em>dmin</em><span class="sig-paren">)</span><a class="headerlink" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__low_level_distinctness" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the lowlevel distinctness for a point.</p>
<ol class="arabic">
<li><p class="first">Dissimilarity measure is computed by</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[d_L(p_i, p_j) = \frac{D_{\chi^2}(p_i, p_j)}{1+||p_i-p_j||}\]</div>
</div></blockquote>
</li>
</ol>
<p>#.  For points with <span class="math notranslate nohighlight">\(D_{\chi^2}(p_i,p_j)&lt;d_{\min}, \forall j\)</span> the low-level distinctness
of point <span class="math notranslate nohighlight">\(p_i\)</span> is computed by</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[D_{low}(p_i) = 1-\exp\left(-\frac{1}{N}\sum d_L(p_i,p_j) \right)\]</div>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>point</strong> (<em>np.ndarray 3x1</em>) – the 3d coordinates of the point to which the low-level distinctness is computed</li>
<li><strong>pointset</strong> (<a class="reference internal" href="../../Datasets/BallTreePointSet.html#BallTreePointSet.BallTreePointSet" title="BallTreePointSet.BallTreePointSet"><em>BallTreePointSet.BallTreePointSet</em></a><em>, </em><a class="reference internal" href="../../Datasets/PointSetOpen3D.html#PointSetOpen3D.PointSetOpen3D" title="PointSetOpen3D.PointSetOpen3D"><em>PointSetOpen3D.PointSetOpen3D</em></a>) – the points to which the computed distinctness is related</li>
<li><strong>chi_dist</strong> (<em>np.array</em>) – the computed <span class="math notranslate nohighlight">\(D_{\chi^2}\)</span> for point <span class="math notranslate nohighlight">\(p_i\)</span> with all other points</li>
<li><strong>dmin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – the threshold distance for distinctness measure</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the distinctness value of point <span class="math notranslate nohighlight">\(p_i\)</span>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="SaliencyFactory.SaliencyFactory._SaliencyFactory__point_association">
<em class="property">classmethod </em><code class="descname">_SaliencyFactory__point_association</code><span class="sig-paren">(</span><em>point</em>, <em>focus_points</em>, <em>focus_points_idx</em>, <em>distinctness</em>, <em>sigma=0.05</em><span class="sig-paren">)</span><a class="headerlink" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__point_association" title="Permalink to this definition">¶</a></dt>
<dd><p>Associate points that neighbor high-distinctness points with their distinction.</p>
<p>A fraction (according to percentage) of points that have high low-level distinctness are chosen as focus points.
<span class="math notranslate nohighlight">\(p_{f_i}\)</span> is the closest focus point to <span class="math notranslate nohighlight">\(p_i\)</span> and <span class="math notranslate nohighlight">\(D_{foci}(p_i)\)</span> is the low-level
distinctness of <span class="math notranslate nohighlight">\(p_{f_i}\)</span>, then:</p>
<div class="math notranslate nohighlight">
\[A_{low}(p_i) = D_{foci}(p_i) \cdot \exp\left(-\frac{||p_{f_i} - p_i||^2}{2\sigma^2}\right)\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>point</strong> (<em>np.ndarray 3x1</em>) – the current point to which the association is computed</li>
<li><strong>focus_points</strong> (<em>np.ndarray nx3</em>) – a list of the focus points</li>
<li><strong>focus_points_idx</strong> (<em>np.ndarray</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the id of the focus points</li>
<li><strong>distinctness</strong> (<em>np.ndarray</em>) – low-level distinctness computed for the cloud</li>
<li><strong>num_points</strong> – the number of points to consider as focus points</li>
<li><strong>sigma</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – a parameter for decay</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the association value for each point</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">np.ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="SaliencyFactory.SaliencyFactory.curvature_saliency">
<em class="property">classmethod </em><code class="descname">curvature_saliency</code><span class="sig-paren">(</span><em>neighbors_property</em>, <em>normals_property</em>, <em>curvature_property</em>, <em>curvature_attribute</em>, <em>weight_distance_sigma=0.05</em>, <em>alpha=0.05</em>, <em>noise_size=0.01</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/SaliencyFactory.html#SaliencyFactory.curvature_saliency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SaliencyFactory.SaliencyFactory.curvature_saliency" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes saliency in each point according to difference in curvature and normal, as a function of the distance</p>
<p>For each point, the angle between the normals is computed, as well as the difference in curvature magnitude:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{eqnarray}
d\kappa_{ij} = |\kappa_i - \kappa_j| \\
d{\bf N}_{ij} = {\bf N}_i \cdot {\bf N}_j
\end{eqnarray}\end{split}\]</div>
<p>The distances are weighted as Gaussians: the closest and farthest get low weights.</p>
<p>The saliency of the point is the sum:</p>
<div class="math notranslate nohighlight">
\[s = \sum{ w_d e^{-d} + d\kappa \cdot w_{dN} e^{-(d{\bf N} + 1)}}\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>curvature_property</strong> (<a class="reference internal" href="../Curvature/Curvature.html#CurvatureProperty.CurvatureProperty" title="CurvatureProperty.CurvatureProperty"><em>CurvatureProperty.CurvatureProperty</em></a><em> or </em><em>np.ndarray</em>) – curvature property computed in advance</li>
<li><strong>curvature_attribute</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – the attribute according to which the curvature is measured.</li>
<li><strong>normals_property</strong> (<a class="reference internal" href="../Normals/Normals.html#NormalsProperty.NormalsProperty" title="NormalsProperty.NormalsProperty"><em>NormalsProperty.NormalsProperty</em></a>) – normals property computed in advance</li>
<li><strong>neighbors_property</strong> (<a class="reference internal" href="../Neighborhood/Neighborhood.html#NeighborsProperty.NeighborsProperty" title="NeighborsProperty.NeighborsProperty"><em>NeighborsProperty.NeighborsProperty</em></a>) – the neighborhood property of the point cloud.</li>
<li><strong>weight_distance_sigma</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – sigma of the Gaussian accoring to which the distances are weighted. Also serves as the sigma for point association. Default: 0.05</li>
<li><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – print running messages. Default: False</li>
<li><strong>noise_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – maximal std of the normals deviations for a point to be considered as vegetation. Default: 0.001</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">saliency values for each point</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#SaliencyProperty.SaliencyProperty" title="SaliencyProperty.SaliencyProperty">SaliencyProperty</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="SaliencyFactory.SaliencyFactory.hierarchical_saliency">
<em class="property">classmethod </em><code class="descname">hierarchical_saliency</code><span class="sig-paren">(</span><em>neighborhoods</em>, <em>normals</em>, <em>num_bins=8</em>, <em>low_level_percentage=1</em>, <em>sigma=0.05</em>, <em>association_percentage=20</em>, <em>high_level_percentage=10</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/SaliencyFactory.html#SaliencyFactory.hierarchical_saliency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SaliencyFactory.SaliencyFactory.hierarchical_saliency" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute saliency by hierarchical method.</p>
<p>Based on <a class="reference internal" href="../../index.html#shtrom-etal2013" id="id6">[SLT13]</a> paper.</p>
<p>The procedure is divided into three main components:</p>
<ol class="arabic simple">
<li>Low-level saliency, which is composed by Fast Point Feature Histogram (FPFH) and the low-level distinctness accordingly.</li>
<li>Point Association, and</li>
<li>High-level saliency.</li>
</ol>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>neighborhoods</strong> (<a class="reference internal" href="../Neighborhood/Neighborhood.html#NeighborsProperty.NeighborsProperty" title="NeighborsProperty.NeighborsProperty"><em>NeighborsProperty.NeighborsProperty</em></a>) – the neighborhoods computed for the queried point set</li>
<li><strong>normals</strong> (<a class="reference internal" href="../Normals/Normals.html#NormalsProperty.NormalsProperty" title="NormalsProperty.NormalsProperty"><em>NormalsProperty.NormalsProperty</em></a>) – the computed normals of the point cloud</li>
<li><strong>num_bins</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the number of bins for feature histogram construction</li>
<li><strong>low_level_percentage</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – threshold for minimal chi-square distance for the low-level distinctness computation (percentage). Default: 1%</li>
<li><strong>association_percentage</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – percentage of focus points for point association (percentage). Default: 20%</li>
<li><strong>high_level_percentage</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – percentage of points to use for high level distinctness (percentage). Default: 10%</li>
<li><strong>sigma</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – for point association</li>
<li><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – print inter-running messages.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">saliency property with the values of the saliency</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#SaliencyProperty.SaliencyProperty" title="SaliencyProperty.SaliencyProperty">SaliencyProperty</a></p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__SPFH" title="SaliencyFactory.SaliencyFactory._SaliencyFactory__SPFH"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SaliencyFactory._SaliencyFactory__SPFH()</span></code></a>, <a class="reference internal" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__FPFH" title="SaliencyFactory.SaliencyFactory._SaliencyFactory__FPFH"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SaliencyFactory._SaliencyFactory__FPFH()</span></code></a>, <a class="reference internal" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__low_level_distinctness" title="SaliencyFactory.SaliencyFactory._SaliencyFactory__low_level_distinctness"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SaliencyFactory._SaliencyFactory__low_level_distinctness()</span></code></a>,
<a class="reference internal" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__point_association" title="SaliencyFactory.SaliencyFactory._SaliencyFactory__point_association"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SaliencyFactory._SaliencyFactory__point_association()</span></code></a>, <a class="reference internal" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__high_level_distinctness" title="SaliencyFactory.SaliencyFactory._SaliencyFactory__high_level_distinctness"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SaliencyFactory._SaliencyFactory__high_level_distinctness()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="SaliencyFactory.SaliencyFactory.multiscale_saliency">
<em class="property">classmethod </em><code class="descname">multiscale_saliency</code><span class="sig-paren">(</span><em>saliencies</em>, <em>percentiles=75</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/SaliencyFactory.html#SaliencyFactory.multiscale_saliency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SaliencyFactory.SaliencyFactory.multiscale_saliency" title="Permalink to this definition">¶</a></dt>
<dd><p>Aggregates the saliencies computed by multiple scales</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>saliencies</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – list of the SaliencyProperty holding the saliency as computed in a specific scale</li>
<li><strong>percentiles</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – which percentile to take throughout the scales. If different for each scale, should be a list</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Aggregated saliency property as computed in multiple scales.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#SaliencyProperty.SaliencyProperty" title="SaliencyProperty.SaliencyProperty">SaliencyProperty</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="SaliencyFactory.SaliencyFactory.panorama_context">
<em class="property">classmethod </em><code class="descname">panorama_context</code><span class="sig-paren">(</span><em>panorama_property</em>, <em>scale_r</em>, <em>scales_number=4</em>, <em>feature='pixel_val'</em>, <em>kpatches=64</em>, <em>constant=3</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/SaliencyFactory.html#SaliencyFactory.panorama_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SaliencyFactory.SaliencyFactory.panorama_context" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Compute context saliency (position based) for panorama property (its image)</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This saliency measure is not implemented correctly and should be reviewed and rewritten</p>
</div>
<p>Saliency is computed based on the distances between regions and their positions <a class="reference internal" href="../../index.html#goferman-etal2012" id="id7">[GZMT12]</a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param panorama_property:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">the property according to which the saliency is computed</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">param scale_r:</th><td class="field-body"><p class="first">scale for multiscale saliency, according to which the neighboring scales are defined:</p>
<div class="math notranslate nohighlight">
\[R_q=\left\{ r, \frac{1}{2}r, \frac{1}{4}r,...\right\}\]</div>
<p>according scales_number</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param scales_number:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">the number of scales that should be computed. default 4.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">param feature:</th><td class="field-body"><p class="first">according to which property the saliency is computed, can be:</p>
<ul class="simple">
<li>‘pixel_val’ - the value of the pixel itself</li>
<li>‘LAB’ - a feature vector using CIElab color space</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Other features can be added.</p>
</div>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">param kpatches:</th><td class="field-body"><p class="first">the number of minimum distance patches. default: 64</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param threshold:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">threshold for the color distance. default: 0.2</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">param constant:</th><td class="field-body"><p class="first">a constant; default: 3 (paper implementation)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">param verbose:</th><td class="field-body"><p class="first">print inter-running results</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">type panorama_property:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">PanoramaProperty.PanoramaProperty</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">type scale_r:</th><td class="field-body"><p class="first">float</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">type scales_number:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">int</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">type feature:</th><td class="field-body"><p class="first">str</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">type kpatches:</th><td class="field-body"><p class="first">int</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">type constant:</th><td class="field-body"><p class="first">int</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">type verbose:</th><td class="field-body"><p class="first">bool</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">return:</th><td class="field-body"><p class="first last">saliency map</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Usage example</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">s3</span> <span class="o">=</span> <span class="n">panorama_context</span><span class="p">(</span><span class="n">panorama</span><span class="p">,</span> <span class="n">r_scale</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">scales_number</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="n">feature</span> <span class="o">=</span> <span class="s1">&#39;pixel_val&#39;</span><span class="p">,</span>
<span class="n">kpatches</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">s3</span><span class="p">[</span><span class="n">s3</span> <span class="o">&lt;</span> <span class="mf">1.e-5</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
</div></blockquote>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="c1">#     plt.imshow(saliency)</span>
    <span class="c1">#     plt.show()</span>

    <span class="k">def</span> <span class="nf">test_FPFH_open3d</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="hll">        <span class="kn">from</span> <span class="nn">PointSetOpen3D</span> <span class="k">import</span> <span class="n">PointSetOpen3D</span>
</span>        <span class="kn">import</span> <span class="nn">open3d</span> <span class="k">as</span> <span class="nn">o3d</span>

</pre></div>
</td></tr></table></div>
</dd></dl>

<dl class="classmethod">
<dt id="SaliencyFactory.SaliencyFactory.panorama_contrast">
<em class="property">classmethod </em><code class="descname">panorama_contrast</code><span class="sig-paren">(</span><em>panorama_property</em>, <em>region_size</em>, <em>feature='pixel_val'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/SaliencyFactory.html#SaliencyFactory.panorama_contrast"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SaliencyFactory.SaliencyFactory.panorama_contrast" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute local saliency map (contrast based) for a panorama property (its image).</p>
<p>The saliency is computed according to either the pixel value in the panorama, LAB. The saliency is based on
distances between regions <a class="reference internal" href="../../index.html#achanta-etal2008" id="id8">[AEWSusstrunk08]</a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>panorama_property</strong> (<a class="reference internal" href="../Panorama/Panorama.html#PanoramaProperty.PanoramaProperty" title="PanoramaProperty.PanoramaProperty"><em>PanoramaProperty.PanoramaProperty</em></a>) – the property according to which the saliency is computed</li>
<li><strong>region_size</strong> – the region (R1) size that does not change throughout</li>
<li><strong>feature</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – <p>according to which property the saliency is computed, can be:</p>
<ul>
<li>’pixel_val’ - the value of the pixel itself</li>
<li>’LAB’ - a feature vector using CIElab color space</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Other features can be added.</p>
</div>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">saliency image</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.array</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Usage example</strong></p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="c1">#     plt.imshow(saliency)</span>
    <span class="c1">#     plt.show()</span>
    <span class="c1">#</span>
<span class="hll">    <span class="c1"># def test_panorama_context(self):</span>
</span>    <span class="c1">#     pcl = IOFactory.ReadPts(&#39;../../test_data/test_pts2.pts&#39;, merge=False)</span>
    <span class="c1">#     panorama = PanoramaFactory.CreatePanorama_byPoints(pcl[0], elevationSpacing=0.12,</span>
    <span class="c1">#                                                        azimuthSpacing=0.12, voidData=2, intensity=False)</span>
</pre></div>
</td></tr></table></div>
</dd></dl>

<dl class="classmethod">
<dt id="SaliencyFactory.SaliencyFactory.panorama_frequency">
<em class="property">classmethod </em><code class="descname">panorama_frequency</code><span class="sig-paren">(</span><em>panorama_property</em>, <em>filters</em>, <em>sigma_sent=True</em>, <em>feature='pixel_val'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/SaliencyFactory.html#SaliencyFactory.panorama_frequency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SaliencyFactory.SaliencyFactory.panorama_frequency" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute frequency saliency map for a panorama property (its image).</p>
<p>The saliency is computed according to either the pixel value in the panorama, LAB or normals.
Where the distance for saliency is computed between blurred and unblurred images <a class="reference internal" href="../../index.html#achanta-etal2009" id="id9">[AHES09]</a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>panorama_property</strong> (<a class="reference internal" href="../Panorama/Panorama.html#PanoramaProperty.PanoramaProperty" title="PanoramaProperty.PanoramaProperty"><em>PanoramaProperty.PanoramaProperty</em></a>) – the property according to which the saliency is computed</li>
<li><strong>filters</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – list of filters (either sigmas or kernel sizes) to run with the DoG filter.</li>
<li><strong>sigma_sent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – sigma sizes are in <code class="docutils literal notranslate"><span class="pre">filters</span></code> (true) as opposed to kernel sizes (false). (default: True)</li>
<li><strong>feature</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – <p>according to which property the saliency is computed, can be:</p>
<ul>
<li>’pixel_val’ - the value of the pixel itself</li>
<li>’LAB’ - a feature vector using CIElab color space</li>
</ul>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Other features can be added.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">saliency image</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">numpy.array</td>
</tr>
</tbody>
</table>
<p><strong>Usage example</strong></p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="c1">#     saliency = SaliencyFactory.panorama_frequency(panorama, list_sigmas)</span>
    <span class="c1">#     plt.imshow(saliency)</span>
    <span class="c1">#     plt.show()</span>
    <span class="c1">#</span>
<span class="hll">    <span class="c1"># def test_panorama_contrast(self):</span>
</span>    <span class="c1">#     pcl = IOFactory.ReadPts(&#39;../../test_data/test_pts2.pts&#39;, merge=False)</span>
    <span class="c1">#     panorama = PanoramaFactory.CreatePanorama_byPoints(pcl[0], elevationSpacing=0.12,</span>
    <span class="c1">#                                                        azimuthSpacing=0.12, voidData=2, intensity=False)</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sigma</span> <span class="o">=</span> <span class="mf">2.5</span>
<span class="n">s1</span> <span class="o">=</span> <span class="n">Saliency</span><span class="o">.</span><span class="n">Factory</span><span class="o">.</span><span class="n">panorama_frequency</span><span class="p">(</span><span class="n">color_panorama</span><span class="p">,</span>
<span class="n">filters</span> <span class="o">=</span> <span class="p">[</span><span class="n">sigma</span><span class="p">,</span> <span class="mf">1.6</span> <span class="o">*</span> <span class="n">sigma</span><span class="p">,</span> <span class="mf">1.6</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">sigma</span><span class="p">,</span> <span class="mf">1.6</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">sigma</span><span class="p">],</span> <span class="n">feature</span> <span class="o">=</span> <span class="s1">&#39;LAB&#39;</span><span class="p">)</span>

<span class="n">s2</span> <span class="o">=</span> <span class="n">Saliency</span><span class="o">.</span><span class="n">Factory</span><span class="o">.</span><span class="n">panorama_frequency</span><span class="p">(</span><span class="n">normals_panorama</span><span class="p">,</span> <span class="n">filters</span><span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
<span class="n">feature</span> <span class="o">=</span> <span class="s1">&#39;pixel_val&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="SaliencyFactory.SaliencyFactory.pointwise_pca_saliency">
<em class="property">classmethod </em><code class="descname">pointwise_pca_saliency</code><span class="sig-paren">(</span><em>tensor_property</em>, <em>principal_components_number=3</em>, <em>weights=1</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/SaliencyFactory.html#SaliencyFactory.pointwise_pca_saliency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SaliencyFactory.SaliencyFactory.pointwise_pca_saliency" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute saliency according to PCA (tensors) similarity.</p>
<p>According to <a class="reference internal" href="../../index.html#guo-etal2018" id="id10">[GWX18]</a>, with the following steps:</p>
<p>Given <span class="math notranslate nohighlight">\(d \times d\)</span> covariance matrix for each points (or patches).</p>
<ol class="arabic">
<li><p class="first">Perform Cholesky factorization for each covariance matrix:</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[C_{(d\times d)}={\bf MM}^T\]</div>
</div></blockquote>
</li>
<li><p class="first">Compute sigma sets for each point (or patch)</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[S_{i_{(d\times 2d)}} = \{ \alpha {\bf M}_1, ..., \alpha {\bf M}_d,...,-\alpha {\bf M}_1,..., -\alpha {\bf M}_d\}\]</div>
<p>with <span class="math notranslate nohighlight">\(\alpha = \sqrt{d}\)</span> and <span class="math notranslate nohighlight">\(d\)</span> the covariance dimension</p>
</div></blockquote>
</li>
<li><p class="first">Compute the average sigma set for the entire point cloud</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[S_{AVG_{(2d^2\times 1)}} = \frac{1}{N}\sum_{i=1}^N S_i\]</div>
<p>with <span class="math notranslate nohighlight">\(N\)</span> number of points in the point cloud</p>
</div></blockquote>
</li>
<li><p class="first">Compute Principal components around <span class="math notranslate nohighlight">\(S_{AVG}\)</span>. The result will be <span class="math notranslate nohighlight">\(\lambda_{(2d^2)}\)</span> eigenvalues and <span class="math notranslate nohighlight">\(\bar{\bf{e}}_{(2d^2\times 1)}\)</span> eigenvectors.</p>
</li>
<li><p class="first">Rotate each <span class="math notranslate nohighlight">\(S_i\)</span> by the <span class="math notranslate nohighlight">\(k\)</span>-th eigenvector of the covariance matrix (<span class="math notranslate nohighlight">\(S_i\cdot{\bar{\bf{e}}_k}\)</span>)</p>
</li>
<li><p class="first">Compute the distance of each rotated sigma set to the average sigma set:</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[G_i = \sum_k \left|S_i\cdot{\bar{\bf{e}}_k}\right|\]</div>
</div></blockquote>
</li>
</ol>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tensor_property</strong> (<a class="reference internal" href="../Tensors/tensorClass.html#TensorProperty.TensorProperty" title="TensorProperty.TensorProperty"><em>TensorProperty</em></a>) – the patches or neighbors of all points</li>
<li><strong>principal_components_number</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the number of principal components to use. Default: 3.</li>
<li><strong>weights</strong> (<em>np.array</em>) – weights for the k-th principal component. Default: all equal 1</li>
<li><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – print running comments (Default: False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">saliency property for the cloud</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#SaliencyProperty.SaliencyProperty" title="SaliencyProperty.SaliencyProperty">SaliencyProperty</a></p>
</td>
</tr>
</tbody>
</table>
<p><strong>Usage example</strong></p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="c1">#     saliencyPanorama = PanoramaFactory.CreatePanorama_byProperty(saliency, elevationSpacing=0.12,</span>
    <span class="c1">#                                                                  azimuthSpacing=0.12, voidData=2)</span>
    <span class="c1">#     plt.imshow(saliencyPanorama.PanoramaImage)</span>
<span class="hll">    <span class="c1">#     plt.show()</span>
</span>    <span class="c1">#     # self.fail()</span>
    <span class="c1">#</span>
    <span class="c1"># def test_panorama_frequency(self):</span>
    <span class="c1">#     pcl = IOFactory.ReadPts(&#39;../../test_data/test_pts2.pts&#39;, merge=False)</span>
    <span class="c1">#     panorama = PanoramaFactory.CreatePanorama_byPoints(pcl[0], elevationSpacing=0.12,</span>
</pre></div>
</td></tr></table></div>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../SegmentationProperty.html" class="btn btn-neutral float-right" title="Segmentation Property" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../Panorama/Panorama.html" class="btn btn-neutral float-left" title="Panorama" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Sagi Students

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
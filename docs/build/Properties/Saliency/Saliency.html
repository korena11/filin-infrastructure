

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Saliency &mdash; infragit 1a documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Segmentation Property" href="../SegmentationProperty.html" />
    <link rel="prev" title="Panorama" href="../Panorama/Panorama.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> infragit
          

          
          </a>

          
            
            
              <div class="version">
                0.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../IOFactory.html">IO Factory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Datasets/Datasets.html">Data set classes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../BaseProperty.html">Properties</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../Colors/Colors.html">Colors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curvature/Curvature.html">Curvature</a></li>
<li class="toctree-l2"><a class="reference internal" href="../EigenProperty.html">Eigen Property</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Normals/Normals.html">Normals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Neighborhood/Neighborhood.html">Neighborhood</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Panorama/Panorama.html">Panorama</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Saliency</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#saliency-property">Saliency Property</a></li>
<li class="toctree-l3"><a class="reference internal" href="#saliency-factory">Saliency Factory</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../SegmentationProperty.html">Segmentation Property</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SphericalCoordinates/Spherical.html">Spherical Coordinates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Transformations/Transformation.html">Transformations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../TriangulationProperty.html">Triangulation Property</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tensors/tensorClass.html">Tensors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Factories/Factories.html">Factories</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../LevelSets/LevelSets.html">Level Set functions and factory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Utils/EigenFactory.html">Eigen Factory Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Utils/Utils.html">General Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Utils/cuda_API.html">CUDA Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Visualizations/Visualization.html">Visualization Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zreferences.html">References</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">infragit</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../BaseProperty.html">Properties</a> &raquo;</li>
        
      <li>Saliency</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/Properties/Saliency/Saliency.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="saliency">
<h1>Saliency<a class="headerlink" href="#saliency" title="Permalink to this headline">¶</a></h1>
<p>The saliency property hold the colors used for the point cloud.</p>
<p>References are found at <a class="reference internal" href="../../zreferences.html#my-references-label"><span class="std std-ref">References</span></a>.</p>
<div class="section" id="saliency-property">
<h2>Saliency Property<a class="headerlink" href="#saliency-property" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="SaliencyProperty.SaliencyProperty">
<em class="property">class </em><code class="sig-prename descclassname">SaliencyProperty.</code><code class="sig-name descname">SaliencyProperty</code><span class="sig-paren">(</span><em class="sig-param">points</em>, <em class="sig-param">saliencyValues=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/SaliencyProperty.html#SaliencyProperty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SaliencyProperty.SaliencyProperty" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">Attributes</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
</tbody>
</table>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
</tbody>
</table>
<dl class="method">
<dt id="SaliencyProperty.SaliencyProperty.getPointSaliency">
<code class="sig-name descname">getPointSaliency</code><span class="sig-paren">(</span><em class="sig-param">idx=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/SaliencyProperty.html#SaliencyProperty.getPointSaliency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SaliencyProperty.SaliencyProperty.getPointSaliency" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the saliency value of a specific point</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>idx</strong> – the point index</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>saliency value</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="SaliencyProperty.SaliencyProperty.getValues">
<code class="sig-name descname">getValues</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/SaliencyProperty.html#SaliencyProperty.getValues"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SaliencyProperty.SaliencyProperty.getValues" title="Permalink to this definition">¶</a></dt>
<dd><p>Saliency values for all the point cloud</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If normalized is True, the normalization is with log</p>
</div>
</dd></dl>

<dl class="method">
<dt id="SaliencyProperty.SaliencyProperty.normalize_values">
<code class="sig-name descname">normalize_values</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/SaliencyProperty.html#SaliencyProperty.normalize_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SaliencyProperty.SaliencyProperty.normalize_values" title="Permalink to this definition">¶</a></dt>
<dd><p>A flag whether to normalize values of principal curvature (k1, k2) to [0,1] with 2 being the invalid value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>bool</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – boolean flag for normalization of the values</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="SaliencyProperty.SaliencyProperty.setPointSaliency">
<code class="sig-name descname">setPointSaliency</code><span class="sig-paren">(</span><em class="sig-param">idx</em>, <em class="sig-param">values</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/SaliencyProperty.html#SaliencyProperty.setPointSaliency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SaliencyProperty.SaliencyProperty.setPointSaliency" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a saliency values to specific points</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>idx</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><em>np.ndarray</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – a list or array of indices (can be only one) for which the saliency values refer</p></li>
<li><p><strong>values</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – the saliency values to assign</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="saliency-factory">
<h2>Saliency Factory<a class="headerlink" href="#saliency-factory" title="Permalink to this headline">¶</a></h2>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
</tbody>
</table>
<p class="rubric">Methods documentation</p>
<dl class="class">
<dt id="SaliencyFactory.SaliencyFactory">
<em class="property">class </em><code class="sig-prename descclassname">SaliencyFactory.</code><code class="sig-name descname">SaliencyFactory</code><a class="reference internal" href="../../_modules/SaliencyFactory.html#SaliencyFactory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SaliencyFactory.SaliencyFactory" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="SaliencyFactory.SaliencyFactory.FPFH_open3d">
<em class="property">classmethod </em><code class="sig-name descname">FPFH_open3d</code><span class="sig-paren">(</span><em class="sig-param">pointset_open3d</em>, <em class="sig-param">normalsproperty</em>, <em class="sig-param">knn_search_param</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/SaliencyFactory.html#SaliencyFactory.FPFH_open3d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SaliencyFactory.SaliencyFactory.FPFH_open3d" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the FPFH via open3d.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is implemented as proposed in <a class="bibtex reference internal" href="../../zreferences.html#rusu-etal2009" id="id1">[RBB09]</a> and not modified to <a class="bibtex reference internal" href="../../zreferences.html#shtrom-etal2013" id="id2">[SLT13]</a>.
This means that the SPFH is not defined as absolute values of the angles, but as the angles themselves.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pointset_open3d</strong> (<a class="reference internal" href="../../Datasets/PointSet.html#PointSet.PointSet" title="PointSet.PointSet"><em>PointSet</em></a><em>, </em><a class="reference internal" href="../../Datasets/PointSetOpen3D.html#PointSetOpen3D.PointSetOpen3D" title="PointSetOpen3D.PointSetOpen3D"><em>PointSetOpen3D.PointSetOpen3D</em></a>) – the point cloud as PointSetOpen3D. if a PointSet is received it is change to PointSetOpen3D.</p></li>
<li><p><strong>knn_search_param</strong> (<em>class</em>) – the type of search: knn, rnn or hybrid.</p></li>
<li><p><strong>normalsproperty</strong> (<em>NormalsProperty.NormalsPropoerty</em>) – the normals property of the point cloud</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>feature vector FPFH</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
<p><strong>Usage example</strong></p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">test_FPFH_open3d</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">PointSetOpen3D</span> <span class="k">import</span> <span class="n">PointSetOpen3D</span>
        <span class="kn">import</span> <span class="nn">open3d</span> <span class="k">as</span> <span class="nn">o3d</span>

        <span class="n">pcl</span> <span class="o">=</span> <span class="n">IOFactory</span><span class="o">.</span><span class="n">ReadPts</span><span class="p">(</span><span class="s1">&#39;../../test_data/test_pts2.pts&#39;</span><span class="p">,</span> <span class="n">merge</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">p3d</span> <span class="o">=</span> <span class="n">PointSetOpen3D</span><span class="p">(</span><span class="n">pcl</span><span class="p">)</span>
        <span class="n">knn</span> <span class="o">=</span> <span class="n">o3d</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">KDTreeSearchParamKNN</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
        <span class="n">rad</span> <span class="o">=</span> <span class="n">o3d</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">KDTreeSearchParamRadius</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
        <span class="n">hyb</span> <span class="o">=</span> <span class="n">o3d</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">KDTreeSearchParamHybrid</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">max_nn</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="hll">
</span>        <span class="n">fpfh</span> <span class="o">=</span> <span class="n">SaliencyFactory</span><span class="o">.</span><span class="n">FPFH_open3d</span><span class="p">(</span><span class="n">p3d</span><span class="p">,</span> <span class="n">knn</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</dd></dl>

<dl class="method">
<dt id="SaliencyFactory.SaliencyFactory._SaliencyFactory__FPFH">
<em class="property">classmethod </em><code class="sig-name descname">_SaliencyFactory__FPFH</code><span class="sig-paren">(</span><em class="sig-param">spfh_current</em>, <em class="sig-param">spfh_property</em><span class="sig-paren">)</span><a class="headerlink" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__FPFH" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute Fast Point Feature Histogram (FPFH)</p>
<p>For each point in spfh_propety, the FPFH is computed by</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[FPFH(p) = SPFH(p) + \frac{1}{K} \sum_{k=1}^K \frac{SPFH(p_k)}{||p-p_k||}\]</div>
</div></blockquote>
<p>with <span class="math notranslate nohighlight">\(K\)</span> the number of neighbors of p.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>spfh_property</strong> – the auxiliary property holding all the SPFH computed for the point cloud</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a feature vector for each point</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="SaliencyFactory.SaliencyFactory._SaliencyFactory__SPFH">
<em class="property">classmethod </em><code class="sig-name descname">_SaliencyFactory__SPFH</code><span class="sig-paren">(</span><em class="sig-param">neighborhood</em>, <em class="sig-param">normals</em>, <em class="sig-param">num_bins=11</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__SPFH" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the Simplified Point Feature Histogram.</p>
<ol class="arabic">
<li><p>Find the Darboux frame for each point <span class="math notranslate nohighlight">\(u =  {\bf N}, \, v = (p_t-p)\times u, \, w = u\times v\)</span> with <span class="math notranslate nohighlight">\(p_t\)</span> the current point and <span class="math notranslate nohighlight">\({\bf N}\)</span> the normal at that point.</p></li>
<li><p>The SPFH (simplified point feature histogram) is computed by:</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[\begin{split}\begin{array}
\alpha = v \cdot {\bf N_t} \\
\phi = u \cdot \frac{p_t-p}{||p_t-p||} \\
\theta = \arctan(w\cdot {\bf N_t}, u\cdot {\bf N_t})
\end{array}\end{split}\]</div>
</div></blockquote>
</li>
</ol>
<p>with <span class="math notranslate nohighlight">\(p_t\)</span> a point in the neighborhood and <span class="math notranslate nohighlight">\({\bf N_t}\)</span> the normal of each neighbor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>neighborhood</strong> (<a class="reference internal" href="../Neighborhood/Neighborhood.html#PointNeighborhood.PointNeighborhood" title="PointNeighborhood.PointNeighborhood"><em>PointNeighborhood.PointNeighborhood</em></a>) – the current neighborhood to which the SPFH is computed</p></li>
<li><p><strong>normals</strong> (<a class="reference internal" href="../Normals/Normals.html#NormalsProperty.NormalsProperty" title="NormalsProperty.NormalsProperty"><em>NormalsProperty.NormalsProperty</em></a>) – the normals of the point cloud</p></li>
<li><p><strong>num_bins</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – number of bins in the histogram. Default: 11 (according to <a class="bibtex reference internal" href="../../zreferences.html#shtrom-etal2013" id="id3">[SLT13]</a> – 11)</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – print inter-running messages. Default: False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>array of <span class="math notranslate nohighlight">\(\alpha, \phi, \theta\)</span>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="SaliencyFactory.SaliencyFactory._SaliencyFactory__commonPlane_approx">
<em class="property">static </em><code class="sig-name descname">_SaliencyFactory__commonPlane_approx</code><span class="sig-paren">(</span><em class="sig-param">points</em><span class="sig-paren">)</span><a class="headerlink" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__commonPlane_approx" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the approximation for a common plane via least squares s.t. <span class="math notranslate nohighlight">\(||{\bf n}||=1\)</span>.</p>
<p>The model for three points:</p>
<div class="math notranslate nohighlight">
\[\tilde{{\bf x}} = {\bf x} - {\bf \bar{x}}
{\bf n}\tilde{\bf x} = 0\]</div>
<p>with <span class="math notranslate nohighlight">\({\bf{\bar{x}}}\)</span> the centroid of the points</p>
<p>The normal is the eigenvector that relates to the smallest eigenvalue</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>points</strong> (<a class="reference internal" href="../../Datasets/PointSet.html#PointSet.PointSet" title="PointSet.PointSet"><em>PointSet</em></a>) – point cloud</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the approximated parameters (normal vector + d)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="SaliencyFactory.SaliencyFactory._SaliencyFactory__computeSigmaSet">
<em class="property">static </em><code class="sig-name descname">_SaliencyFactory__computeSigmaSet</code><span class="sig-paren">(</span><em class="sig-param">tensor</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__computeSigmaSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the sigma set of a tensor</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tensor</strong> (<a class="reference internal" href="../Tensors/tensorClass.html#Tensor.Tensor" title="Tensor.Tensor"><em>Tensor</em></a>) – the tensor for which the sigma set will be computed</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – print running comments (default: False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>sigma set</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="SaliencyFactory.SaliencyFactory._SaliencyFactory__contextAware">
<em class="property">classmethod </em><code class="sig-name descname">_SaliencyFactory__contextAware</code><span class="sig-paren">(</span><em class="sig-param">image</em>, <em class="sig-param">ksize</em>, <em class="sig-param">image_feature</em>, <em class="sig-param">kpatches=64</em>, <em class="sig-param">c=3</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__contextAware" title="Permalink to this definition">¶</a></dt>
<dd><p>Saliency computed according to <a class="bibtex reference internal" href="../../zreferences.html#goferman-etal2012" id="id4">[GZMT12]</a> for one scale.</p>
<blockquote>
<div><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This saliency measure is not implemented correctly and should be reviewed and rewritten</p>
</div>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>numpy.array</em>) – image on which the saliency is computed</p></li>
<li><p><strong>ksize</strong> (<em>numpy.array</em>) – the sizes of the patches</p></li>
<li><p><strong>image_feature</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – <p>the feature according to which the saliency is computed.</p>
<ul>
<li><p>’pixel_val’ - the value of the pixel itself</p></li>
<li><p>’LAB’ - a feature vector using CIElab color space</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Other features can be added.</p>
</div>
</p></li>
<li><p><strong>kpatches</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of minimum distance patches. default: 64</p></li>
<li><p><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – a constant; c=3 in the paper’s implementation. default: 3</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – print debugging prints. defualt: False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>saliency map of the given image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.array</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="SaliencyFactory.SaliencyFactory._SaliencyFactory__curvature_saliency">
<em class="property">static </em><code class="sig-name descname">_SaliencyFactory__curvature_saliency</code><span class="sig-paren">(</span><em class="sig-param">neighborhood</em>, <em class="sig-param">current_curvatures</em>, <em class="sig-param">win_size=0.05</em>, <em class="sig-param">noise_size=0.01</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__curvature_saliency" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes saliency in each point according to difference in curvature.</p>
<p>For each point, the difference in curvature between a close point’s surrounding  and its farther area are tested</p>
<div class="math notranslate nohighlight">
\[d\kappa_{ij} = |\kappa_i - \kappa_j|\]</div>
<p>The distances are weighted as Gaussians: the closest and farthest get low weights.</p>
<p>The saliency of the point is the sum:</p>
<div class="math notranslate nohighlight">
\[s = \sum{ w_d e^{-d} + d\kappa \cdot w_{dN} e^{-(d{\bf N} + 1)}}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>current_curvatures</strong> (<em>np.ndarray</em>) – curvatures of the points in neighborhood</p></li>
<li><p><strong>neighborhood</strong> (<a class="reference internal" href="../Neighborhood/Neighborhood.html#PointNeighborhood.PointNeighborhood" title="PointNeighborhood.PointNeighborhood"><em>PointNeighborhood.PointNeighborhood</em></a>) – the point neighborhood.</p></li>
<li><p><strong>win_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – search window size.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – print running messages. Default: False</p></li>
<li><p><strong>noise_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – maximal std of the normals deviations for a point to be considered as vegetation. Default: 0.01</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>array of saliency value of a point in a neighborhood according to curvature variations</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="SaliencyFactory.SaliencyFactory._SaliencyFactory__dcolor">
<em class="property">classmethod </em><code class="sig-name descname">_SaliencyFactory__dcolor</code><span class="sig-paren">(</span><em class="sig-param">p_i</em>, <em class="sig-param">image</em>, <em class="sig-param">image_feature</em>, <em class="sig-param">kpatches</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__dcolor" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the most similar patch to a patch i and their indices</p>
<blockquote>
<div><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This  measure is not implemented correctly and should be reviewed and rewritten</p>
</div>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p_i</strong> (<em>numpy.array</em>) – the patch to which the comparison is made</p></li>
<li><p><strong>vector</strong> – all other patches</p></li>
<li><p><strong>image_feature</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – <p>the feature according to which the dcolor is computed</p>
<ul>
<li><p>’pixel_val’ - the value of the pixel itself</p></li>
<li><p>’LAB’ - a feature vector using CIElab color space</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Other features can be added.</p>
</div>
</p></li>
<li><p><strong>kpatches</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of minimum distance patches,  dtype = int</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a vector of K most similar dcolors; a vector of K most similar indices</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="SaliencyFactory.SaliencyFactory._SaliencyFactory__high_level_distinctness">
<em class="property">classmethod </em><code class="sig-name descname">_SaliencyFactory__high_level_distinctness</code><span class="sig-paren">(</span><em class="sig-param">point</em>, <em class="sig-param">valid_pts</em>, <em class="sig-param">valid_idx</em>, <em class="sig-param">chi_dist</em><span class="sig-paren">)</span><a class="headerlink" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__high_level_distinctness" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the high-level distinctness of a point within a pointset</p>
<ol class="arabic">
<li><dl>
<dt>High-level dissimilarity measure is computed by</dt><dd><div class="math notranslate nohighlight">
\[d_H(p_i,p_j) = D_{\chi^2}(p_i,p_j) \cdot \log\left(1+||p_i-p_j||\right)\]</div>
</dd>
</dl>
</li>
<li><dl>
<dt>The high-level distinctness is computed according to a percentage of the points with the highest low-level distinctness, and is defined by:</dt><dd><div class="math notranslate nohighlight">
\[D_{high}(p_i) = 1-\exp\left(-\frac{1}{N}\sum d_H(p_i,p_j)\right)\]</div>
<p>with N the number of points that correspond to the percentage of the highest low level distinctness</p>
</dd>
</dl>
</li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>point</strong> (<em>np.ndarray 3x1</em>) – the 3d coordinates of the current point</p></li>
<li><p><strong>valid_pts</strong> (<em>np.ndarray nx3</em>) – % of the points with the highest low-level distinctness</p></li>
<li><p><strong>valid_idx</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><em>np.ndarray</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – indices of the valid points</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the high-level distinctness of point <span class="math notranslate nohighlight">\(p_i\)</span>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="SaliencyFactory.SaliencyFactory._SaliencyFactory__low_level_distinctness">
<em class="property">classmethod </em><code class="sig-name descname">_SaliencyFactory__low_level_distinctness</code><span class="sig-paren">(</span><em class="sig-param">point</em>, <em class="sig-param">pointset</em>, <em class="sig-param">chi_dist</em>, <em class="sig-param">dmin</em><span class="sig-paren">)</span><a class="headerlink" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__low_level_distinctness" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the lowlevel distinctness for a point.</p>
<ol class="arabic">
<li><p>Dissimilarity measure is computed by</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[d_L(p_i, p_j) = \frac{D_{\chi^2}(p_i, p_j)}{1+||p_i-p_j||}\]</div>
</div></blockquote>
</li>
</ol>
<p>#.  For points with <span class="math notranslate nohighlight">\(D_{\chi^2}(p_i,p_j)&lt;d_{\min}, \forall j\)</span> the low-level distinctness
of point <span class="math notranslate nohighlight">\(p_i\)</span> is computed by</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[D_{low}(p_i) = 1-\exp\left(-\frac{1}{N}\sum d_L(p_i,p_j) \right)\]</div>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>point</strong> (<em>np.ndarray 3x1</em>) – the 3d coordinates of the point to which the low-level distinctness is computed</p></li>
<li><p><strong>pointset</strong> (<a class="reference internal" href="../../Datasets/BallTreePointSet.html#BallTreePointSet.BallTreePointSet" title="BallTreePointSet.BallTreePointSet"><em>BallTreePointSet.BallTreePointSet</em></a><em>, </em><a class="reference internal" href="../../Datasets/PointSetOpen3D.html#PointSetOpen3D.PointSetOpen3D" title="PointSetOpen3D.PointSetOpen3D"><em>PointSetOpen3D.PointSetOpen3D</em></a>) – the points to which the computed distinctness is related</p></li>
<li><p><strong>chi_dist</strong> (<em>np.array</em>) – the computed <span class="math notranslate nohighlight">\(D_{\chi^2}\)</span> for point <span class="math notranslate nohighlight">\(p_i\)</span> with all other points</p></li>
<li><p><strong>dmin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – the threshold distance for distinctness measure</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the distinctness value of point <span class="math notranslate nohighlight">\(p_i\)</span>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="SaliencyFactory.SaliencyFactory._SaliencyFactory__normal_saliency">
<em class="property">static </em><code class="sig-name descname">_SaliencyFactory__normal_saliency</code><span class="sig-paren">(</span><em class="sig-param">neighborhood</em>, <em class="sig-param">current_normals</em>, <em class="sig-param">win_size=0.05</em>, <em class="sig-param">noise_size=0.01</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__normal_saliency" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks the saliency of a point based on  normals property</p>
<div class="math notranslate nohighlight">
\[d{f N}_{ij} = {f N}_i \cdot {f N}_j\]</div>
<p>The distances are weighted as Gaussians: the closest and farthest get low weights.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>neighborhood</strong> (<a class="reference internal" href="../Neighborhood/Neighborhood.html#PointNeighborhood.PointNeighborhood" title="PointNeighborhood.PointNeighborhood"><em>PointNeighborhood.PointNeighborhood</em></a>) – the neighborhood of a point</p></li>
<li><p><strong>current_normals</strong> (<em>np.array</em>) – normals array of the current point</p></li>
<li><p><strong>win_size</strong> – search window size.</p></li>
<li><p><strong>noise_size</strong> – maximal std of the normals deviations for a point to be considered as vegetation. Default: 0.01</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – print running messages. Default: False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>array of saliency value of a point in a neighborhood according to normals</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="SaliencyFactory.SaliencyFactory._SaliencyFactory__point_association">
<em class="property">classmethod </em><code class="sig-name descname">_SaliencyFactory__point_association</code><span class="sig-paren">(</span><em class="sig-param">point</em>, <em class="sig-param">focus_points</em>, <em class="sig-param">focus_points_idx</em>, <em class="sig-param">distinctness</em>, <em class="sig-param">sigma=0.05</em><span class="sig-paren">)</span><a class="headerlink" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__point_association" title="Permalink to this definition">¶</a></dt>
<dd><p>Associate points that neighbor high-distinctness points with their distinction.</p>
<p>A fraction (according to percentage) of points that have high low-level distinctness are chosen as focus points.
<span class="math notranslate nohighlight">\(p_{f_i}\)</span> is the closest focus point to <span class="math notranslate nohighlight">\(p_i\)</span> and <span class="math notranslate nohighlight">\(D_{foci}(p_i)\)</span> is the low-level
distinctness of <span class="math notranslate nohighlight">\(p_{f_i}\)</span>, then:</p>
<div class="math notranslate nohighlight">
\[A_{low}(p_i) = D_{foci}(p_i) \cdot \exp\left(-\frac{||p_{f_i} - p_i||^2}{2\sigma^2}\right)\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>point</strong> (<em>np.ndarray 3x1</em>) – the current point to which the association is computed</p></li>
<li><p><strong>focus_points</strong> (<em>np.ndarray nx3</em>) – a list of the focus points</p></li>
<li><p><strong>focus_points_idx</strong> (<em>np.ndarray</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the id of the focus points</p></li>
<li><p><strong>distinctness</strong> (<em>np.ndarray</em>) – low-level distinctness computed for the cloud</p></li>
<li><p><strong>num_points</strong> – the number of points to consider as focus points</p></li>
<li><p><strong>sigma</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – a parameter for decay</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the association value for each point</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="SaliencyFactory.SaliencyFactory.directional_saliency">
<em class="property">static </em><code class="sig-name descname">directional_saliency</code><span class="sig-paren">(</span><em class="sig-param">neighbors_property</em>, <em class="sig-param">normals_property</em>, <em class="sig-param">curvature_property</em>, <em class="sig-param">curvature_attribute</em>, <em class="sig-param">min_obj_size=0.05</em>, <em class="sig-param">noise_size=0.01</em>, <em class="sig-param">curvature_weight=0.5</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/SaliencyFactory.html#SaliencyFactory.directional_saliency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SaliencyFactory.SaliencyFactory.directional_saliency" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>neighbors_property</strong> (<a class="reference internal" href="../Neighborhood/Neighborhood.html#NeighborsProperty.NeighborsProperty" title="NeighborsProperty.NeighborsProperty"><em>NeighborsProperty.NeighborsProperty</em></a>) – the neighborhood property of the point cloud.</p></li>
<li><p><strong>normals_property</strong> (<em>np.array</em>) – normals at the neighborhood</p></li>
<li><p><strong>curvature_property</strong> (<a class="reference internal" href="../Curvature/Curvature.html#CurvatureProperty.CurvatureProperty" title="CurvatureProperty.CurvatureProperty"><em>CurvatureProperty.CurvatureProperty</em></a><em> or </em><em>np.ndarray</em>) – curvature property computed in advance</p></li>
<li><p><strong>curvature_attribute</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the attribute according to which the curvature is measured.</p></li>
<li><p><strong>min_obj_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – the minimal object size to look for. Dictates the window size</p></li>
<li><p><strong>noise_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – maximal std of the normals deviations for a point to be considered as vegetation. Default: 0.01</p></li>
<li><p><strong>curvature_weight</strong> – the weight of the curvature in the saliency computation</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – print running messages. Default: False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>saliency values for each point</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#SaliencyProperty.SaliencyProperty" title="SaliencyProperty.SaliencyProperty">SaliencyProperty</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="SaliencyFactory.SaliencyFactory.hierarchical_saliency">
<em class="property">classmethod </em><code class="sig-name descname">hierarchical_saliency</code><span class="sig-paren">(</span><em class="sig-param">neighborhoods</em>, <em class="sig-param">normals</em>, <em class="sig-param">low_level_percentage=1</em>, <em class="sig-param">sigma=0.05</em>, <em class="sig-param">association_percentage=20</em>, <em class="sig-param">high_level_percentage=10</em>, <em class="sig-param">verbose=True</em>, <em class="sig-param">chi_filename=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/SaliencyFactory.html#SaliencyFactory.hierarchical_saliency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SaliencyFactory.SaliencyFactory.hierarchical_saliency" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute saliency by hierarchical method.</p>
<p>Based on <a class="bibtex reference internal" href="../../zreferences.html#shtrom-etal2013" id="id5">[SLT13]</a> paper.</p>
<p>The procedure is divided into three main components:</p>
<ol class="arabic simple">
<li><p>Low-level saliency, which is composed by Fast Point Feature Histogram (FPFH) and the low-level distinctness accordingly.</p></li>
<li><p>Point Association, and</p></li>
<li><p>High-level saliency.</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>neighborhoods</strong> (<a class="reference internal" href="../Neighborhood/Neighborhood.html#NeighborsProperty.NeighborsProperty" title="NeighborsProperty.NeighborsProperty"><em>NeighborsProperty.NeighborsProperty</em></a>) – the neighborhoods computed for the queried point set</p></li>
<li><p><strong>normals</strong> (<a class="reference internal" href="../Normals/Normals.html#NormalsProperty.NormalsProperty" title="NormalsProperty.NormalsProperty"><em>NormalsProperty.NormalsProperty</em></a>) – the computed normals of the point cloud</p></li>
<li><p><strong>num_bins</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of bins for feature histogram construction</p></li>
<li><p><strong>low_level_percentage</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – threshold for minimal chi-square distance for the low-level distinctness computation (percentage). Default: 1%</p></li>
<li><p><strong>association_percentage</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – percentage of focus points for point association (percentage). Default: 20%</p></li>
<li><p><strong>high_level_percentage</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – percentage of points to use for high level distinctness (percentage). Default: 10%</p></li>
<li><p><strong>sigma</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – for point association</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – print inter-running messages.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>saliency property with the values of the saliency</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#SaliencyProperty.SaliencyProperty" title="SaliencyProperty.SaliencyProperty">SaliencyProperty</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__SPFH" title="SaliencyFactory.SaliencyFactory._SaliencyFactory__SPFH"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SaliencyFactory._SaliencyFactory__SPFH()</span></code></a>, <a class="reference internal" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__FPFH" title="SaliencyFactory.SaliencyFactory._SaliencyFactory__FPFH"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SaliencyFactory._SaliencyFactory__FPFH()</span></code></a>, <a class="reference internal" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__low_level_distinctness" title="SaliencyFactory.SaliencyFactory._SaliencyFactory__low_level_distinctness"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SaliencyFactory._SaliencyFactory__low_level_distinctness()</span></code></a>,
<a class="reference internal" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__point_association" title="SaliencyFactory.SaliencyFactory._SaliencyFactory__point_association"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SaliencyFactory._SaliencyFactory__point_association()</span></code></a>, <a class="reference internal" href="#SaliencyFactory.SaliencyFactory._SaliencyFactory__high_level_distinctness" title="SaliencyFactory.SaliencyFactory._SaliencyFactory__high_level_distinctness"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SaliencyFactory._SaliencyFactory__high_level_distinctness()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="SaliencyFactory.SaliencyFactory.multiscale_saliency">
<em class="property">static </em><code class="sig-name descname">multiscale_saliency</code><span class="sig-paren">(</span><em class="sig-param">saliencies</em>, <em class="sig-param">percentiles=75</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/SaliencyFactory.html#SaliencyFactory.multiscale_saliency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SaliencyFactory.SaliencyFactory.multiscale_saliency" title="Permalink to this definition">¶</a></dt>
<dd><p>Aggregates the saliencies computed by multiple scales</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>saliencies</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – list of the SaliencyProperty holding the saliency as computed in a specific scale</p></li>
<li><p><strong>percentiles</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – which percentile to take throughout the scales. If different for each scale, should be a list</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Aggregated saliency property as computed in multiple scales.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#SaliencyProperty.SaliencyProperty" title="SaliencyProperty.SaliencyProperty">SaliencyProperty</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="SaliencyFactory.SaliencyFactory.panorama_context">
<em class="property">classmethod </em><code class="sig-name descname">panorama_context</code><span class="sig-paren">(</span><em class="sig-param">panorama_property</em>, <em class="sig-param">scale_r</em>, <em class="sig-param">scales_number=4</em>, <em class="sig-param">feature='pixel_val'</em>, <em class="sig-param">kpatches=64</em>, <em class="sig-param">constant=3</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/SaliencyFactory.html#SaliencyFactory.panorama_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SaliencyFactory.SaliencyFactory.panorama_context" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Compute context saliency (position based) for panorama property (its image)</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This saliency measure is not implemented correctly and should be reviewed and rewritten</p>
</div>
<p>Saliency is computed based on the distances between regions and their positions <a class="bibtex reference internal" href="../../zreferences.html#goferman-etal2012" id="id6">[GZMT12]</a>.</p>
<dl class="field-list">
<dt class="field-odd">param panorama_property</dt>
<dd class="field-odd"><p>the property according to which the saliency is computed, or a raster image</p>
</dd>
<dt class="field-even">param scale_r</dt>
<dd class="field-even"><p>scale for multiscale saliency, according to which the neighboring scales are defined:</p>
<div class="math notranslate nohighlight">
\[R_q=\left\{ r, \frac{1}{2}r, \frac{1}{4}r,...\right\}\]</div>
<p>according scales_number</p>
</dd>
<dt class="field-odd">param scales_number</dt>
<dd class="field-odd"><p>the number of scales that should be computed. default 4.</p>
</dd>
<dt class="field-even">param feature</dt>
<dd class="field-even"><p>according to which property the saliency is computed, can be:</p>
<ul class="simple">
<li><p>‘pixel_val’ - the value of the pixel itself</p></li>
<li><p>‘LAB’ - a feature vector using CIElab color space</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Other features can be added.</p>
</div>
</dd>
<dt class="field-odd">param kpatches</dt>
<dd class="field-odd"><p>the number of minimum distance patches. default: 64</p>
</dd>
<dt class="field-even">param threshold</dt>
<dd class="field-even"><p>threshold for the color distance. default: 0.2</p>
</dd>
<dt class="field-odd">param constant</dt>
<dd class="field-odd"><p>a constant; default: 3 (paper implementation)</p>
</dd>
<dt class="field-even">param verbose</dt>
<dd class="field-even"><p>print inter-running results</p>
</dd>
<dt class="field-odd">type panorama_property</dt>
<dd class="field-odd"><p>PanoramaProperty.PanoramaProperty, np.array</p>
</dd>
<dt class="field-even">type scale_r</dt>
<dd class="field-even"><p>float</p>
</dd>
<dt class="field-odd">type scales_number</dt>
<dd class="field-odd"><p>int</p>
</dd>
<dt class="field-even">type feature</dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">type kpatches</dt>
<dd class="field-odd"><p>int</p>
</dd>
<dt class="field-even">type constant</dt>
<dd class="field-even"><p>int</p>
</dd>
<dt class="field-odd">type verbose</dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">return</dt>
<dd class="field-even"><p>saliency map</p>
</dd>
</dl>
<p><strong>Usage example</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">s3</span> <span class="o">=</span> <span class="n">panorama_context</span><span class="p">(</span><span class="n">panorama</span><span class="p">,</span> <span class="n">r_scale</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">scales_number</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="n">feature</span> <span class="o">=</span> <span class="s1">&#39;pixel_val&#39;</span><span class="p">,</span>
<span class="n">kpatches</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">s3</span><span class="p">[</span><span class="n">s3</span> <span class="o">&lt;</span> <span class="mf">1.e-5</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
</div></blockquote>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">test_panorama_context</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">pcl</span> <span class="o">=</span> <span class="n">IOFactory</span><span class="o">.</span><span class="n">ReadPts</span><span class="p">(</span><span class="s1">&#39;../../test_data/test_pts2.pts&#39;</span><span class="p">,</span> <span class="n">merge</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">panorama</span> <span class="o">=</span> <span class="n">PanoramaFactory</span><span class="o">.</span><span class="n">CreatePanorama_byPoints</span><span class="p">(</span><span class="n">pcl</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">elevationSpacing</span><span class="o">=</span><span class="mf">0.12</span><span class="p">,</span>
                                                           <span class="n">azimuthSpacing</span><span class="o">=</span><span class="mf">0.12</span><span class="p">,</span> <span class="n">voidData</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">intensity</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="hll">        <span class="n">saliency</span> <span class="o">=</span> <span class="n">SaliencyFactory</span><span class="o">.</span><span class="n">panorama_context</span><span class="p">(</span><span class="n">panorama</span><span class="p">,</span> <span class="n">scale_r</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</span>        <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">saliency</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

</pre></div>
</td></tr></table></div>
</dd></dl>

<dl class="method">
<dt id="SaliencyFactory.SaliencyFactory.panorama_contrast">
<em class="property">classmethod </em><code class="sig-name descname">panorama_contrast</code><span class="sig-paren">(</span><em class="sig-param">panorama_property</em>, <em class="sig-param">region_size</em>, <em class="sig-param">feature='pixel_val'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/SaliencyFactory.html#SaliencyFactory.panorama_contrast"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SaliencyFactory.SaliencyFactory.panorama_contrast" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute local saliency map (contrast based) for a panorama property (its image).</p>
<p>The saliency is computed according to either the pixel value in the panorama, LAB. The saliency is based on
distances between regions <a class="bibtex reference internal" href="../../zreferences.html#achanta-etal2008" id="id7">[AEWSusstrunk08]</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>panorama_property</strong> (<a class="reference internal" href="../Panorama/Panorama.html#PanoramaProperty.PanoramaProperty" title="PanoramaProperty.PanoramaProperty"><em>PanoramaProperty.PanoramaProperty</em></a>) – the property according to which the saliency is computed</p></li>
<li><p><strong>region_size</strong> – the region (R1) size that does not change throughout</p></li>
<li><p><strong>feature</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – <p>according to which property the saliency is computed, can be:</p>
<ul>
<li><p>’pixel_val’ - the value of the pixel itself</p></li>
<li><p>’LAB’ - a feature vector using CIElab color space</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Other features can be added.</p>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>saliency image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.array</p>
</dd>
</dl>
<p><strong>Usage example</strong></p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">test_panorama_contrast</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">pcl</span> <span class="o">=</span> <span class="n">IOFactory</span><span class="o">.</span><span class="n">ReadPts</span><span class="p">(</span><span class="s1">&#39;../../test_data/test_pts2.pts&#39;</span><span class="p">,</span> <span class="n">merge</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">panorama</span> <span class="o">=</span> <span class="n">PanoramaFactory</span><span class="o">.</span><span class="n">CreatePanorama_byPoints</span><span class="p">(</span><span class="n">pcl</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">elevationSpacing</span><span class="o">=</span><span class="mf">0.12</span><span class="p">,</span>
<span class="hll">                                                           <span class="n">azimuthSpacing</span><span class="o">=</span><span class="mf">0.12</span><span class="p">,</span> <span class="n">voidData</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">intensity</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span>        <span class="n">saliency</span> <span class="o">=</span> <span class="n">SaliencyFactory</span><span class="o">.</span><span class="n">panorama_contrast</span><span class="p">(</span><span class="n">panorama</span><span class="p">,</span> <span class="n">region_size</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">saliency</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
</dd></dl>

<dl class="method">
<dt id="SaliencyFactory.SaliencyFactory.panorama_frequency">
<em class="property">classmethod </em><code class="sig-name descname">panorama_frequency</code><span class="sig-paren">(</span><em class="sig-param">panorama_property</em>, <em class="sig-param">filters</em>, <em class="sig-param">sigma_sent=True</em>, <em class="sig-param">feature='pixel_val'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/SaliencyFactory.html#SaliencyFactory.panorama_frequency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SaliencyFactory.SaliencyFactory.panorama_frequency" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute frequency saliency map for a panorama property (its image).</p>
<p>The saliency is computed according to either the pixel value in the panorama, LAB or normals.
Where the distance for saliency is computed between blurred and unblurred images <a class="bibtex reference internal" href="../../zreferences.html#achanta-etal2009" id="id8">[AHES09]</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>panorama_property</strong> (<a class="reference internal" href="../Panorama/Panorama.html#PanoramaProperty.PanoramaProperty" title="PanoramaProperty.PanoramaProperty"><em>PanoramaProperty.PanoramaProperty</em></a>) – the property according to which the saliency is computed</p></li>
<li><p><strong>filters</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – list of filters (either sigmas or kernel sizes) to run with the DoG filter.</p></li>
<li><p><strong>sigma_sent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – sigma sizes are in ‘’filters’’ (true) as opposed to kernel sizes (false). (default: True)</p></li>
<li><p><strong>feature</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – <p>according to which property the saliency is computed, can be:</p>
<ul>
<li><p>’pixel_val’ - the value of the pixel itself</p></li>
<li><p>’LAB’ - a feature vector using CIElab color space</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>saliency image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.array</p>
</dd>
</dl>
<p><strong>Usage example</strong></p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span>        <span class="n">pcl</span> <span class="o">=</span> <span class="n">IOFactory</span><span class="o">.</span><span class="n">ReadPts</span><span class="p">(</span><span class="s1">&#39;../../test_data/test_pts2.pts&#39;</span><span class="p">,</span> <span class="n">merge</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">panorama</span> <span class="o">=</span> <span class="n">PanoramaFactory</span><span class="o">.</span><span class="n">CreatePanorama_byPoints</span><span class="p">(</span><span class="n">pcl</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">elevationSpacing</span><span class="o">=</span><span class="mf">0.12</span><span class="p">,</span>
                                                           <span class="n">azimuthSpacing</span><span class="o">=</span><span class="mf">0.12</span><span class="p">,</span> <span class="n">voidData</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">intensity</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">sigma</span> <span class="o">=</span> <span class="mf">2.5</span>
<span class="hll">        <span class="n">list_sigmas</span> <span class="o">=</span> <span class="p">[</span><span class="n">sigma</span><span class="p">,</span> <span class="mf">1.6</span> <span class="o">*</span> <span class="n">sigma</span><span class="p">,</span> <span class="mf">1.6</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">sigma</span><span class="p">,</span> <span class="mf">1.6</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">sigma</span><span class="p">]</span>
</span>        <span class="n">saliency</span> <span class="o">=</span> <span class="n">SaliencyFactory</span><span class="o">.</span><span class="n">panorama_frequency</span><span class="p">(</span><span class="n">panorama</span><span class="p">,</span> <span class="n">list_sigmas</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">saliency</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>   <span class="n">sigma</span> <span class="o">=</span> <span class="mf">2.5</span>
   <span class="n">s1</span> <span class="o">=</span> <span class="n">Saliency</span><span class="o">.</span><span class="n">Factory</span><span class="o">.</span><span class="n">panorama_frequency</span><span class="p">(</span><span class="n">color_panorama</span><span class="p">,</span>
   <span class="n">filters</span> <span class="o">=</span> <span class="p">[</span><span class="n">sigma</span><span class="p">,</span> <span class="mf">1.6</span> <span class="o">*</span> <span class="n">sigma</span><span class="p">,</span> <span class="mf">1.6</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">sigma</span><span class="p">,</span> <span class="mf">1.6</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">sigma</span><span class="p">],</span> <span class="n">feature</span> <span class="o">=</span> <span class="s1">&#39;LAB&#39;</span><span class="p">)</span>

   <span class="n">s2</span> <span class="o">=</span> <span class="n">Saliency</span><span class="o">.</span><span class="n">Factory</span><span class="o">.</span><span class="n">panorama_frequency</span><span class="p">(</span><span class="n">normals_panorama</span><span class="p">,</span> <span class="n">filters</span><span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
   <span class="n">feature</span> <span class="o">=</span> <span class="s1">&#39;pixel_val&#39;</span><span class="p">)</span>

<span class="o">..</span> <span class="n">note</span><span class="p">::</span>
  <span class="n">Other</span> <span class="n">features</span> <span class="n">can</span> <span class="n">be</span> <span class="n">added</span><span class="o">.</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="SaliencyFactory.SaliencyFactory.pointwise_pca_saliency">
<em class="property">static </em><code class="sig-name descname">pointwise_pca_saliency</code><span class="sig-paren">(</span><em class="sig-param">tensor_property</em>, <em class="sig-param">principal_components_number=3</em>, <em class="sig-param">weights=1</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/SaliencyFactory.html#SaliencyFactory.pointwise_pca_saliency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#SaliencyFactory.SaliencyFactory.pointwise_pca_saliency" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute saliency according to PCA (tensors) similarity.</p>
<p>According to <a class="bibtex reference internal" href="../../zreferences.html#guo-etal2018" id="id9">[GWX18]</a>, with the following steps:</p>
<p>Given <span class="math notranslate nohighlight">\(d \times d\)</span> covariance matrix for each points (or patches).</p>
<ol class="arabic">
<li><p>Perform Cholesky factorization for each covariance matrix:</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[C_{(d\times d)}={\bf MM}^T\]</div>
</div></blockquote>
</li>
<li><p>Compute sigma sets for each point (or patch)</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[S_{i_{(d\times 2d)}} = \{ \alpha {\bf M}_1, ..., \alpha {\bf M}_d,...,-\alpha {\bf M}_1,..., -\alpha {\bf M}_d\}\]</div>
<p>with <span class="math notranslate nohighlight">\(\alpha = \sqrt{d}\)</span> and <span class="math notranslate nohighlight">\(d\)</span> the covariance dimension</p>
</div></blockquote>
</li>
<li><p>Compute the average sigma set for the entire point cloud</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[S_{AVG_{(2d^2\times 1)}} = \frac{1}{N}\sum_{i=1}^N S_i\]</div>
<p>with <span class="math notranslate nohighlight">\(N\)</span> number of points in the point cloud</p>
</div></blockquote>
</li>
<li><p>Compute Principal components around <span class="math notranslate nohighlight">\(S_{AVG}\)</span>. The result will be <span class="math notranslate nohighlight">\(\lambda_{(2d^2)}\)</span> eigenvalues and <span class="math notranslate nohighlight">\(\bar{\bf{e}}_{(2d^2\times 1)}\)</span> eigenvectors.</p></li>
<li><p>Rotate each <span class="math notranslate nohighlight">\(S_i\)</span> by the <span class="math notranslate nohighlight">\(k\)</span>-th eigenvector of the covariance matrix (<span class="math notranslate nohighlight">\(S_i\cdot{\bar{\bf{e}}_k}\)</span>)</p></li>
<li><p>Compute the distance of each rotated sigma set to the average sigma set:</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[G_i = \sum_k \left|S_i\cdot{\bar{\bf{e}}_k}\right|\]</div>
</div></blockquote>
</li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tensor_property</strong> (<a class="reference internal" href="../Tensors/tensorClass.html#TensorProperty.TensorProperty" title="TensorProperty.TensorProperty"><em>TensorProperty</em></a>) – the patches or neighbors of all points</p></li>
<li><p><strong>principal_components_number</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of principal components to use. Default: 3.</p></li>
<li><p><strong>weights</strong> (<em>np.array</em>) – weights for the k-th principal component. Default: all equal 1</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – print running comments (Default: False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>saliency property for the cloud</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#SaliencyProperty.SaliencyProperty" title="SaliencyProperty.SaliencyProperty">SaliencyProperty</a></p>
</dd>
</dl>
<p><strong>Usage example</strong></p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">test_pointwise_tensor_saliency</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">pcl</span> <span class="o">=</span> <span class="n">IOFactory</span><span class="o">.</span><span class="n">ReadPts</span><span class="p">(</span><span class="s1">&#39;../../test_data/test_pts2.pts&#39;</span><span class="p">,</span> <span class="n">merge</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">neighbors</span> <span class="o">=</span> <span class="n">NeighborsFactory</span><span class="o">.</span><span class="n">CalculateAllPointsNeighbors</span><span class="p">(</span><span class="n">pcl</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">search_radius</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="hll">        <span class="n">tensorProp</span> <span class="o">=</span> <span class="n">TensorFactory</span><span class="o">.</span><span class="n">computeTensorsProperty_givenNeighborhood</span><span class="p">(</span><span class="n">pcl</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">neighbors</span><span class="p">)</span>
</span>        <span class="n">saliency</span> <span class="o">=</span> <span class="n">SaliencyFactory</span><span class="o">.</span><span class="n">pointwise_pca_saliency</span><span class="p">(</span><span class="n">tensorProp</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">saliencyPanorama</span> <span class="o">=</span> <span class="n">PanoramaFactory</span><span class="o">.</span><span class="n">CreatePanorama_byProperty</span><span class="p">(</span><span class="n">saliency</span><span class="p">,</span> <span class="n">elevationSpacing</span><span class="o">=</span><span class="mf">0.12</span><span class="p">,</span>
                                                                     <span class="n">azimuthSpacing</span><span class="o">=</span><span class="mf">0.12</span><span class="p">,</span> <span class="n">voidData</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">saliencyPanorama</span><span class="o">.</span><span class="n">PanoramaImage</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../SegmentationProperty.html" class="btn btn-neutral float-right" title="Segmentation Property" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../Panorama/Panorama.html" class="btn btn-neutral float-left" title="Panorama" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Sagi Students

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>